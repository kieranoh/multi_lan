/**
 * 제공된 이메일 주소가 유효한지 확인합니다. 예를 들어, abc.123@def.ghi.com.uk는 유효한 이메일 주소입니다.
 * 잘못된 부정 결과를 피하기 위해 가능한 많은 경우를 다루세요.
 *
 * @param {string} email - 확인할 이메일입니다.
 * @returns {[boolean, string]} - 첫 번째 요소가 이메일이 유효한지 나타내는 불리언이고,
 * 두 번째 요소가 이메일을 확인하는 데 사용된 패턴인 튜플입니다.
 */
const checkEmail = (email) => {
    // RFC 5322 호환 이메일 검증을 위한 포괄적인 정규식 패턴
    // 이 패턴은 대부분의 실제 이메일 주소를 허용하면서 일반적인 오탐지를 방지합니다.
    const emailPattern = /^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:(?=[a-zA-Z0-9-]{1,63}\.)[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/;
    
    // 패턴 설명:
    // 1. ^(?=.{1,254}$) - 전체 문자열 길이 1-254자 (RFC 5321)
    // 2. (?=.{1,64}@) - 로컬 파트(@ 앞)는 1-64자
    // 3. [a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+ - 로컬 파트의 허용 문자
    // 4. (?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)* - 점으로 구분된 추가 로컬 파트
    // 5. @ - @ 기호
    // 6. (?:(?=[a-zA-Z0-9-]{1,63}\.)[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+ - 도메인 레이블 (각 1-63자)
    // 7. [a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$ - 최상위 도메인
    
    const isValid = emailPattern.test(email);
    return [isValid, emailPattern.toString()];
};