/**
 * بررسی کنید که آیا آدرس ایمیل ارائه شده معتبر است یا خیر.
 * به عنوان مثال، abc.123@def.ghi.com.uk یک آدرس ایمیل معتبر است.
 * تا حد امکان موارد مختلف را پوشش دهید تا از نتایج منفی کاذب جلوگیری شود.
 *
 * @param {string} email - ایمیلی که باید بررسی شود.
 * @returns {[boolean, string]} - یک تاپل که عنصر اول آن یک بولین است که نشان می‌دهد آیا ایمیل معتبر است و عنصر دوم الگوی استفاده شده برای بررسی ایمیل است.
 */
const checkEmail = (email) => {
    // الگوی جامع برای اعتبارسنجی ایمیل بر اساس RFC 5322 و RFC 6530 (پشتیبانی از یونیکد)
    // این الگو موارد زیر را پوشش می‌دهد:
    // 1. قسمت محلی (قبل از @): حروف، اعداد، کاراکترهای خاص خاص (. ! # $ % & ' * + - / = ? ^ _ ` { | } ~)
    // 2. دامنه (بعد از @): حروف، اعداد، خط تیره و نقطه، با حداقل دو بخش دامنه
    // 3. پشتیبانی از زیردامنه‌های متعدد (مثلاً example.co.uk)
    // 4. پشتیبانی از کاراکترهای یونیکد در قسمت محلی و دامنه
    // 5. محدودیت طول کلی و طول بخش‌ها
    const pattern = /^(?=.{1,254}$)(?=.{1,64}@)[\p{L}\p{N}!#$%&'*+\-/=?^_`{|}~]+(\.[\p{L}\p{N}!#$%&'*+\-/=?^_`{|}~]+)*@(?:[\p{L}\p{N}](?:[\p{L}\p{N}-]{0,61}[\p{L}\p{N}])?\.)+[\p{L}\p{N}]{2,}$/u;
    
    // بررسی تطابق با الگو
    const isValid = pattern.test(email);
    
    // بازگرداندن نتیجه به صورت تاپل
    return [isValid, pattern.toString()];
};